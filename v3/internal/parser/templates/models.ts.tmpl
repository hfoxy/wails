// @ts-check
// Cynhyrchwyd y ffeil hon yn awtomatig. PEIDIWCH Ã‚ MODIWL
// This file is automatically generated. DO NOT EDIT
{{$pkg := .Package}}
{{- $models := .ModelsFilename}}
{{- range $name, $path := .Imports}}
import * as {{$name}} from "{{$path}}/{{$models}}";
{{- end}}{{if .Imports}}
{{end}}
{{- range .Aliases}}
{{- $doc := .DocComment $pkg}} 
{{- if $doc}}
/**
 * {{jsdoc $doc ""}}
 */
{{- end}}
type {{.Name}} = {{.JSType $pkg}};
{{end}}
{{- range $enumindex, $enumdef := .Enums}}
{{- $doc := .DocComment $pkg}} 
{{- if $doc}}
/**
 * {{jsdoc $doc ""}}
 */
{{- end}}
export enum {{$enumdef.Name}} {
    {{- range $constindex, $constdef := .Consts}}
    {{- $doc := .DocComment $pkg $enumdef}}
    {{- if $doc}}{{if gt $constindex 0}}
{{end}}
    /**
     * {{jsdoc $doc "    "}}
     */
    {{- end}}
    {{$constdef.Name}} = {{$constdef.Value}},{{end}}
}
{{end}}
{{- range $name, $def := .Structs}}
{{- $doc := .DocComment $pkg}} 
{{- if $doc}}
/**
 * {{jsdoc $doc ""}}
 */
{{- end}}
export class {{$def.Name}} {
    {{- range $fieldindex, $fielddef := $def.Fields}}
    {{- $doc := .DocComment $pkg}} 
    {{- if $doc}}{{if gt $fieldindex 0}}
{{end}}
    /**
     * {{jsdoc $doc "    "}}
     */
    {{- end}}
    "{{js .JSName}}"{{if .Optional}}?{{end}}: {{.JSType $pkg}};{{end}}

    /** Creates a new {{$def.Name}} instance. */
    constructor(source: Partial<{{$def.Name}}> = {}) {
    {{- range $def.Fields}}{{if not .Optional}}
        if (!("{{js .JSName}}" in source)) {
            this["{{js .JSName}}"] = {{.DefaultValue $pkg}};
        }
    {{- end}}{{end}}

        Object.assign(this, source);
    }

    /** Creates a new {{$def.Name}} instance from a string or object. */
    static createFrom(source: string | object = {}): {{$def.Name}} {
        let parsedSource = typeof source === 'string' ? JSON.parse(source) : source;
        return new {{$def.Name}}(parsedSource as Partial<{{$def.Name}}>);
    }
}
{{end -}}
